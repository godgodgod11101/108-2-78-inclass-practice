"0",""
"0","# 先前的askSilly_weather函數，如果使用者"
"0","#   1. 沒有安裝jsonlite"
"0","#   2. 縣市裡的「臺」使用簡體「台」"
"0","#   都會產生錯誤訊息。"
"0","# 請修改函數，讓使用者不管有沒有安裝jsonlite或使用簡體「台」都沒問題。"
"0",""
"0","askSillyWeather <- function(locationInput){"
"0","  "
"0","  if(!require(jsonlite)){"
"0","    install.packages(""jsonlite"")"
"0","  }"
"0","  "
"0","  if(str_detect(locationInput, ""^台"")){"
"0","    str_replace("
"0","      locationInput, ""^台"", ""臺"""
"0","    ) -> "
"0","      locationInput"
"0","  }"
"0","  "
"0","  jsonlite::fromJSON(""https://opendata.cwb.gov.tw/fileapi/v1/opendataapi/F-C0032-001?Authorization=rdec-key-123-45678-011121314&format=JSON"") ->"
"0","  weather_next36hours"
"0","  "
"0","  (weather_next36hours$cwbopendata$dataset$location$locationName == locationInput) -> "
"0","  pick_location    # 創造取出""地區""氣象資料的vector"
"0",""
"0","  weather_next36hours$cwbopendata$dataset$location$weatherElement[pick_location][[1]] -> "
"0","    locationWeather"
"0",""
"0",""
"0","  (locationWeather$elementName == ""MaxT"") -> pick_maxT    # 創造取出""最高溫""的vector"
"0","  (locationWeather$elementName == ""MinT"") -> pick_minT    # 創造取出""最低溫""的vector"
"0",""
"0","  locationWeather$time[pick_maxT][[1]]$parameter$parameterName[[1]] -> maxT"
"0","  locationWeather$time[pick_minT][[1]]$parameter$parameterName[[1]] -> minT"
"0",""
"0","  glue::glue(""{locationInput} {today()} 氣溫預報，最高{maxT}度，最低{minT}度。"")"
"0","}"
"0",""
