"0",""
"0","# 上面函數需要stringr及lubridate"
"0",""
"0","convert_TaiwanDate2WesternDate <- function(twDate){"
"0","  "
"0","  if(!require(lubridate)){"
"0","    install.packages(""lubridate"")"
"0","  }"
"0","  if(!require(stringr)){"
"0","    install.packages(""stringr"")"
"0","  }"
"0","  "
"0","  library(lubridate)"
"0","  library(stringr)"
"0","  "
"0","  ""(?<=民國)[:digit:]+(?=年)"" -> pattern_year"
"0",""
"0","  str_extract("
"0","    twDate, pattern_year"
"0","  ) %>% "
"0","    as.integer(.) %>% "
"0","    {. + 1911} %>% "
"0","    as.character(.)-> "
"0","    yearReplacement"
"0",""
"0","  twDate %>% "
"0","    str_replace("
"0","      ., pattern_year, replacement = yearReplacement"
"0","    ) %>% "
"0","    ymd(.) -> "
"0","    wesDate"
"0","  "
"0","  return(wesDate)"
"0","}"
"0",""
