"0",""
"0","weather_forcast <- function(weather_loc){"
"0","  "
"0","  "
"0","  # 將""台""換""臺"""
"0","  "
"0","  if(str_detect(weather_loc, pattern = ""[台]"")){"
"0","    weather_loc <- str_replace(weather_loc, pattern = ""台"", replacement = ""臺"")"
"0","  }"
"0","  "
"0","  "
"0","  # 檢查使用者是否輸入正確名稱"
"0","  "
"0","  loc_name <- weather_next36hours$cwbopendata$dataset$location$locationName %>% "
"0","    str_c(collapse = ""、"")"
"0","  "
"0","  if("
"0","    weather_next36hours$cwbopendata$dataset$location$locationName %>% "
"0","      str_detect(., pattern = weather_loc) %>% "
"0","      sum() == 0"
"0","  ){"
"0","    return("
"0","      glue(""out of boundries! choose the right name as below: \n {loc_name}"")"
"0","    )"
"0","  } else{"
"0","    # 取出該縣市的資料編號"
"0","    weather_num <- which(weather_next36hours$cwbopendata$dataset$location$locationName == weather_loc)"
"0","    "
"0","    "
"0","    # 用資料編號取出天氣狀況"
"0","    "
"0","    weather_condition <- weather_next36hours$cwbopendata$dataset$location$weatherElement[[weather_num]]$time[[1]]$parameter$parameterName[[1]]"
"0","    "
"0","    "
"0","    # 用資料編號取出天氣狀況對應之時段"
"0","    "
"0","    weather_sTime <- weather_next36hours$cwbopendata$dataset$location$weatherElement[[weather_num]]$time[[1]]$startTime[[1]]"
"0","    "
"0","    sTime_date <- easyReadDate(weather_sTime)"
"0","    sTime_hour <- easyReadTime(weather_sTime)"
"0","    "
"0","    weather_eTime <- weather_next36hours$cwbopendata$dataset$location$weatherElement[[weather_num]]$time[[1]]$endTime[[1]]"
"0","    eTime_date <- easyReadDate(weather_eTime)"
"0","    eTime_hour <- easyReadTime(weather_eTime)"
"0","    "
"0","    "
"0","    # return天氣狀況"
"0","    "
"0","    return("
"0","      glue(""{weather_loc}{sTime_date} {sTime_hour}到{eTime_date} {eTime_hour}，天氣為「{weather_condition}」"")"
"0","    )"
"0","  }"
"0","  "
"0","  "
"0","}"
"0",""
