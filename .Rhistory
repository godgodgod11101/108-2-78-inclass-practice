# 製作管家機器人：
#   06:00-09:00---媽媽讀《經濟學人》
#   17:00-19:00---媽媽用foodpanda點晚餐
#   23:30-(+1)01:00---媽媽用Spotify聽Jazz
glue::glue("{today()} 23:30:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime1
glue::glue("{today()+days(1)} 01:00:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime2
class(nowTime1)
typeof(nowTime1)    # type為double，可用cut()
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
cutPoints
# 製作管家機器人：
#   06:00-09:00---媽媽讀《經濟學人》
#   17:00-19:00---媽媽用foodpanda點晚餐
#   23:30-(+1)01:00---媽媽用Spotify聽Jazz
glue::glue("{today()} 23:30:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime1
glue::glue("{today()+days(1)} 01:00:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime2
class(nowTime1)
typeof(nowTime1)    # type為double，可用cut()
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
cutPoints
cut(nowTime1, cutPoints) -> nowTime1
nowTime1
levels(nowTime1)[c(1, 3, 5)] <- c("morning", "evening", "night")
nowTime1
cut(nowTime2, cutPoints) -> nowTime2
nowTime2
levels(nowTime2)[c(1, 3, 5)] <- c("morning", "evening", "night")
nowTime2
switch(
as.character(nowTime1),
"morning" = {
print("來點國際時事？")
browseURL("https://economist.com")
},
"evening" = {
print("點餐？")
browseURL("https://www.foodpanda.com.tw/")
},
"night" = {
print("聽點Jazz。")
browseURL("https://open.spotify.com/playlist/37i9dQZF1DXbITWG1ZJKYt")
}, {
print("沒有任務")
}
)
switch(
as.character(nowTime2),
"morning" = {
print("來點國際時事？")
browseURL("https://economist.com")
},
"evening" = {
print("點餐？")
browseURL("https://www.foodpanda.com.tw/")
},
"night" = {
print("聽點Jazz。")
browseURL("https://open.spotify.com/playlist/37i9dQZF1DXbITWG1ZJKYt")
}, {
print("沒有任務")
}
)
now()
# 寫成函數
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 寫成函數
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 寫成函數
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
#print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 寫成函數
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 寫成函數
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
robot_mom <- function(nowTime = now()){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
robot_mom <- function(nowTime = now()){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 製作管家機器人：
#   06:00-09:00---媽媽讀《經濟學人》
#   17:00-19:00---媽媽用foodpanda點晚餐
#   23:30-(+1)01:00---媽媽用Spotify聽Jazz
glue::glue("{today()} 23:30:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime1
glue::glue("{today()+days(1)} 01:00:00") %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime2
class(nowTime1)
typeof(nowTime1)    # type為double，可用cut()將nowTime1轉為類別變數
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
cutPoints
cut(nowTime1, cutPoints) -> nowTime1
nowTime1
levels(nowTime1)[c(1, 3, 5)] <- c("morning", "evening", "night")
nowTime1    # 開頭竟然是該類！
cut(nowTime2, cutPoints) -> nowTime2
nowTime2    # 尾巴竟然是別類了！
levels(nowTime2)[c(1, 3, 5)] <- c("morning", "evening", "night")
nowTime2
switch(
as.character(nowTime2),
"morning" = {
print("來點國際時事？")
browseURL("https://economist.com")
},
"evening" = {
print("點餐？")
browseURL("https://www.foodpanda.com.tw/")
},
"night" = {
print("聽點Jazz。")
browseURL("https://open.spotify.com/playlist/37i9dQZF1DXbITWG1ZJKYt")
}, {
print("沒有任務")
}
)
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
}
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
}
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
}
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
cutPoints
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
cutPoints
}
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei") ->
# 將date time轉成類別資料
cutPoints <- c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei")
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
cutPoints <- c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei")
}
robot_mom <- function(nowTime){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
cutPoints <- c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei")
cut(nowTime, cutPoints) -> nowTime
# 更換level定義（變情境描述）
levels(nowTime)[c(1, 3, 5)] <- c("morning", "evening", "night")
# 產生情境對應output
switch(
as.character(nowTime),
"morning" = {
print("來點國際時事？")
browseURL("https://economist.com")
},
"evening" = {
print("點餐？")
browseURL("https://www.foodpanda.com.tw/")
},
"night" = {
print("聽點Jazz。")
browseURL("https://open.spotify.com/playlist/37i9dQZF1DXbITWG1ZJKYt")
}, {
print("沒有任務")
}
)
}
robot_mom <- function(nowTime = now()){
library(lubridate)
library(glue)
print("請在每日01:00-06:00更新一次此函數")
# 將character轉成date time
nowTime %>%
ymd_hms(tz = "Asia/Taipei") ->
nowTime
# 將date time轉成類別資料
cutPoints <- c(
glue("{today()} 06:00:00"),
glue("{today()} 09:00:00"),
glue("{today()} 17:00:00"),
glue("{today()} 19:00:00"),
glue("{today()} 23:30:00"),
glue("{today()+days(1)} 01:00:00")
) %>%
ymd_hms(tz = "Asia/Taipei")
cut(nowTime, cutPoints) -> nowTime
# 更換level定義（變情境描述）
levels(nowTime)[c(1, 3, 5)] <- c("morning", "evening", "night")
# 產生情境對應output
switch(
as.character(nowTime),
"morning" = {
print("來點國際時事？")
browseURL("https://economist.com")
},
"evening" = {
print("點餐？")
browseURL("https://www.foodpanda.com.tw/")
},
"night" = {
print("聽點Jazz。")
browseURL("https://open.spotify.com/playlist/37i9dQZF1DXbITWG1ZJKYt")
}, {
print("沒有任務")
}
)
}
robot_mom()
robot_mom()
robot_mom(nowTime = glue("{todaty()+days(1)} 00:06:00"))
robot_mom(nowTime = glue("{today()+days(1)} 00:06:00"))
robot_mom(nowTime = glue("{today()} 00:17:00"))
robot_mom(nowTime = glue("{today()} 17:00:00"))
